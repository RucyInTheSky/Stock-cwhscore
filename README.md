# Stock-cwhscore
🔍 概要

本アプリは、株価チャートパターン「カップ・ウィズ・ハンドル」をベースに、
有名テクニカル指標およびローソク足パターン認識を組み合わせて、
**短期スイングトレード（2週間前後）**で上昇が期待できる銘柄をスコア化・ランキングするStreamlitアプリです。

🧠 主要ロジック構成

分類	ファイル	内容
アプリ本体	app.py	Streamlit UI・DBから銘柄読み込み・スキャン統括
カップ検出	cup_detector.py	「カップ・ウィズ・ハンドル」パターンを実際の形状解析で判定（深さ・回復率・出来高）
テクニカル指標	technical_signals.py	代表的なテクニカル9種＋ゴールデンクロスを解析しスコア化
ローソク足パターン	pattern_signals.py	TA-Libの12種パターン（陽線・陰線）を検出して加減点
スコア統合	score_system.py	カップ50＋テクニカル30＋パターン20＝総合100点に統一
⚙️ スコア構成
項目	満点	主な内容
🏆 カップ検出	50点	深さ10〜40%、回復≥15%、出来高上昇、ハンドル形成
📊 テクニカル指標	30点	SMA・EMA・MACD・RSI(40–60)・ボリンジャーバンド・ADX・OBV・ATR・SAR・ゴールデンクロス
💡 パターン認識	20点	明けの明星・白三兵・包み足・カラカサ・宵の明星・暗雲など12種のローソク足パターン
🧾 動作仕様

期間：直近3ヶ月固定（短期トレンドを重視）

対象：SQLite stocks.db 内の銘柄リスト

出力：総合スコア降順のDataFrame表示＋CSVダウンロード

フィルタ：業種・TOPIX区分を複数選択可能

📈 期待できる動作結果

本モデルは「急騰直前の静かな上昇局面」を重視しており、
直近の過熱銘柄よりも、なだらかにトレンド形成中の銘柄を上位に抽出します。
また、直近2週間での上昇余地を狙うスイングトレードに最適化されています。
